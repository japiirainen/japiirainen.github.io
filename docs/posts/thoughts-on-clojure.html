<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Joona Piirainen - Thoughts on Clojure λ</title>
    <link rel="stylesheet" type="text/css" href="../css/composeconference.css" />

    <!-- favicon stuff-->
    <link rel="icon" type="image/x-icon" href="../favicon.ico" />
  </head>
  <body>
    <header>
      <div class="heading">
        <div class="logo">
          <div style="float: left"></div>
          <div>
            <a href="../">japiirainen</a>
          </div>
        </div>
        <nav><a href="../">home</a> <a href="../about.html">about</a></nav>
      </div>
    </header>

    <main class="markdown-body" role="main">
      <h1>Thoughts on Clojure λ</h1>
      <div class="info">
  <em>Posted on January  8, 2022  by Joona </em><br /><br />
</div>

<p>2021 was the first year I participated in <a href="https://adventofcode.com/"><strong>AdventOfCode</strong></a>, which is the worlds largest programming contest. I solved the 2021 puzzles in Haskell and Python. Doing AOC puzzles became a habit I enjoyed, so I couldn’t stop on the 25th of december, and started solving the year 2015. I do AOC puzzles to improve my general problem solving skills, but they are also a convenient place to learn new programming languages! So obviously (if you read the title) I chose Clojure for the year 2015. In this post I’d like to summarize my thoughts on the language after solving all 25 problems using it.</p>
<h2 id="the-good">The Good</h2>
<h3 id="surprisingly-easy-to-pick-up">Surprisingly easy to pick up</h3>
<p>This was the first time writing in any of the lisp-family programming languages. Surprisingly, the learning curve wasn’t too bad. After a couple of days I felt quite comfortable writing clojure code. Being able to pick up a language quickly is a positive thing for sure!</p>
<h3 id="standard-library">Standard library</h3>
<p>Clojure standard library was great and felt polished. Especially enjoyed the data-structures provided.</p>
<h3 id="threading-macros">Threading macros</h3>
<p>I’m talking about these guys.</p>
<p>Thread-last. This was the variant I used 90% of the time. Don’t know if this is idiomatic, but I guess this is the way I think about the data flowing in programs.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;&gt;</span> [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>] (<span class="kw">map</span> <span class="kw">inc</span>) (<span class="kw">reduce</span> <span class="kw">+</span>)) <span class="co">;; =&gt; 8</span></span></code></pre></div>
<p>Thread-first. Didn’t use this variant too much, but useful for chaining functions that take data as the first argument. (Personally don’t know why everything is not data last??)</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">map</span> #(<span class="kw">-&gt;</span> <span class="va">%</span> (str/split <span class="ss">#&quot;: &quot;</span>) (<span class="kw">nth</span> <span class="dv">1</span>) <span class="kw">read-string</span>) <span class="st">&quot;foo: 123&quot;</span>) <span class="co">;; =&gt; 123</span></span></code></pre></div>
<h3 id="repl">REPL</h3>
<p>Being able to develop API’s using the REPL was nice.</p>
<h3 id="docs">Docs</h3>
<p><a href="https://clojuredocs.org/"><strong><em>clojuredocs</em></strong></a> were nice and had comprehensive and easy to follow examples.</p>
<h2 id="the-bad">The bad</h2>
<h3 id="error-messages">Error messages</h3>
<p>When you got an exception the top most call site would be reported, not where the actual exception occurred. How is that a thing?</p>
<h3 id="getting-my-development-environment-setup">Getting my development environment setup</h3>
<p>This was a pain. I tried using vscode with <a href="https://calva.io/"><strong><em>calva</em></strong></a>, but gave up pretty soon after starting. Ended up using emacs with <a href="https://cider.mx/"><strong><em>cider</em></strong></a>, which was pretty nice, but had a huge learning curve for me since I’m not an emacs user. (Maybe I am after this…)</p>
<h3 id="dynamic-nature-of-lisps">Dynamic nature of lisps</h3>
<p>I’m a believer of strong static types, and using clojure made me have even stronger opinions on the matter. Dynamic typing combined with the error messages was honestly terrible at times. This is probably the biggest reason I will likely not return to writing in clojure (at least if I don’t have to).</p>
<h2 id="summary">Summary</h2>
<p>Overall Clojure was an OK language despite the gripes I have with it. Initially I was steered to trying it since it seems to be kind of popular here in Finland and I wanted to see if I would like to write it professionally at some point (I don’t.. At least for now). I honestly have no idea if the code I wrote was idiomatic Clojure code or not (probably not). I will link the repo below and please tell me if it was the way I was using the language that made me not enjoy it more than I did.</p>
<p><a href="https://github.com/japiirainen/aoc-2015"><strong><em>Code on Github</em></strong></a></p>

    </main>

    <footer>
      Site proudly generated by
      <a href="http://jaspervdj.be/hakyll">Hakyll</a> | Source code is available
      at
      <a href="https://github.com/japiirainen/japiirainen.github.io">GitHub</a>
    </footer>
  </body>
</html>
